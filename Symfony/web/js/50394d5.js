(function(a){a.fn.fadeSlider=function(l){var l=jQuery.extend({speed:400,pause:0},l);var c=a(this);var h=a(this).children("ul");var f=false;var d;var j=c.parent().parent().find(".arrow");function k(){h.children("li").hide();h.find("li:first-child").addClass("current").show();if(c.parent().hasClass("main-fade-slider")){j=c.parent().find(".arrow")}j.click(function(){if(a(this).hasClass("arrow-left")){b("left")}else{b("right")}clearInterval(d)});if(l.pause!=0){g()}}function g(){d=setInterval(function(){b("right")},l.pause)}function b(n){if(f){return}else{f=true}var o=h.children("li.current");var m;if(n=="left"){if(h.children("li.current").prev("li").length){m=h.children("li.current").prev("li")}else{m=h.children("li:last-child")}}else{if(h.children("li.current").next("li").length){m=h.children("li.current").next("li")}else{m=h.children("li:first-child")}}h.animate({height:m.outerHeight()},l.speed);if(h.find("iframe").length){h.find("iframe").each(function(){i(a(this).parent().attr("id"),"pauseVideo")})}m.css({position:"absolute","z-index":"2"}).fadeIn(l.speed,function(){o.hide().removeClass("current");m.addClass("current").css({position:"relative","z-index":"1"});f=false})}function i(r,s,o){if(window.jQuery&&r instanceof jQuery){r=r.get(0).id}var q=document.getElementById(r);if(q&&q.tagName.toUpperCase()!="IFRAME"){q=q.getElementsByTagName("iframe")[0]}if(!i.queue){i.queue={}}var n=i.queue[r],p=document.readyState=="complete";if(p&&!q){window.console&&console.log("callPlayer: Frame not found; id="+r);if(n){clearInterval(n.poller)}}else{if(s==="listening"){if(q&&q.contentWindow){s='{"event":"listening","id":'+JSON.stringify(""+r)+"}";q.contentWindow.postMessage(s,"*")}}else{if(!p||q&&(!q.contentWindow||n&&!n.ready)){if(!n){n=i.queue[r]=[]}n.push([s,o]);if(!("poller" in n)){n.poller=setInterval(function(){i(r,"listening")},250);m(1,function t(v){var u=JSON.parse(v.data);if(u&&u.id==r&&u.event=="onReady"){clearInterval(n.poller);n.ready=true;m(0,t);while(u=n.shift()){i(r,u[0],u[1])}}},false)}}else{if(q&&q.contentWindow){if(s.call){return s()}q.contentWindow.postMessage(JSON.stringify({event:"command",func:s,args:o||[],id:r}),"*")}}}}function m(v,u){var w=v?window.addEventListener:window.removeEventListener;w?w("message",u,!1):(v?window.attachEvent:window.detachEvent)("onmessage",u)}}function e(){h.height(h.find("li.current").outerHeight())}k();a(window).resize(function(){e()})}})(jQuery);
(function(a){a.fn.hoverIntent=function(k,j){var l={sensitivity:7,interval:100,timeout:0};l=a.extend(l,j?{over:k,out:j}:k);var n,m,h,d;var e=function(f){n=f.pageX;m=f.pageY};var c=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(h-n)+Math.abs(d-m))<l.sensitivity){a(f).unbind("mousemove",e);f.hoverIntent_s=1;return l.over.apply(f,[g])}else{h=n;d=m;f.hoverIntent_t=setTimeout(function(){c(g,f)},l.interval)}};var i=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return l.out.apply(f,[g])};var b=function(o){var g=jQuery.extend({},o);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(o.type=="mouseenter"){h=g.pageX;d=g.pageY;a(f).bind("mousemove",e);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){c(g,f)},l.interval)}}else{a(f).unbind("mousemove",e);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){i(g,f)},l.timeout)}}};return this.bind("mouseenter",b).bind("mouseleave",b)}})(jQuery);
function loadTweets(c){var a=[];for(var d=0;d<c.length;d++){var e=c[d].user.screen_name;var b=c[d].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(f){return'<a href="'+f+'">'+f+"</a>"}).replace(/\B@([_a-z0-9]+)/ig,function(f){return f.charAt(0)+'<a href="http://twitter.com/'+f.substring(1)+'">'+f.substring(1)+"</a>"});a.push("<li>"+b+"</li>")}return"<ul>"+a.join("")+"</ul>"}function resizeLayout(){if(jQuery(".footer").offset().top+jQuery(".footer").outerHeight()<jQuery(window).height()){jQuery(".footer").addClass("sticky")}}jQuery(document).ready(function(f){f(".header .menu ul li").hoverIntent(function(){var j=f(this);j.children("ul").slideToggle(300,function(){j.addClass("hover")})},function(){var j=f(this);j.children("ul").slideToggle(300,function(){j.removeClass("hover")})});f(".select-menu select").fadeTo(0,0);f(".select-menu select").change(function(){window.location.href=f(this).find("option:selected").attr("value")});f(".select-menu option").attr("selected","");if(f(".page-title").length){f(".select-menu span").text(f(".page-title > .container > span").text())}else{f(".select-menu span").text(f(".select-menu select option:eq(0)").text())}f(".select-menu option").each(function(j,k){if(f(this).attr("value")==f(location).attr("href")){f(this).attr("selected","selected");f(".select-menu span").text(f(this).text())}});if(f(".featured-player").length){var b=false;var a=[];var h=f(".featured-player");if(f(".featured-player").find(".autoplay").val()=="true"){b=true}h.find(".playlist a").each(function(){a.push({title:f(this).text(),artist:f(this).attr("title"),mp3:f(this).attr("href")})});var e=new jPlayerPlaylist({jPlayer:"#jquery_jplayer",cssSelectorAncestor:"#jp_container"},a,{swfPath:template_directory+"js/jplayer/Jplayer.swf",supplied:"mp3",solution:"html,flash",wmode:"window",playlistOptions:{autoPlay:b}});if(h.find(".button-container").hasClass("hidden")){h.addClass("without-button")}else{h.addClass("with-button");h.find(".button").attr("href",h.find(".playlist a:first-child").attr("data-link"))}h.find(".container").show()}if(f(".track-player").length&&f("audio").length){var d=audiojs.createAll()}f(".track-play-button").click(function(){var j=f(this).parent().parent().next("tr");if(f(this).hasClass("active")){j.hide();if(j.find(".audiojs").hasClass("playing")&&j.find("object").length==0){j.find(".pause").trigger("click")}}else{f(".track-play-button").removeClass("active");f(".track-player").hide();f(".audiojs").each(function(){if(f(this).hasClass("playing")&&j.find("object").length==0){f(this).find(".pause").trigger("click")}});if(j.find("object").length==0){j.find(".play").trigger("click")}j.fadeIn(700)}f(this).toggleClass("active");return false});if(f(".ribbon-slider").length){var i=true;if(f(".ribbon-slider input.slider-mousewheel").val()=="true"){i=false}f(".ribbon-slider").ribbonSlider({speed:parseInt(f(".ribbon-slider input.slider-speed").val()),pause:parseInt(f(".ribbon-slider input.slider-pause").val()),mousewheel:i})}if(f(".fade-slider").length){f(".fade-slider").each(function(){var j={};if(f(this).find("input.slider-speed").length){j.speed=parseInt(f(this).find("input.slider-speed").val())}if(f(this).find("input.slider-pause").length){j.pause=parseInt(f(this).find("input.slider-pause").val())}f(this).fadeSlider(j)})}if(f(".carousel-slider").length){f(".carousel-slider").each(function(){f(this).easySlider({speed:500,auto:false,continuous:true})})}if(f(".social-widget").length){if(f(".social-widget .pane.twitter").length){f.getJSON("http://api.twitter.com/1/statuses/user_timeline/"+f(".pane.twitter input.twitter-username").val()+".json?count="+parseInt(f(".pane.twitter input.tweets-number").val())+"&callback=?",function(j){f(".social-widget .pane.twitter").html(loadTweets(j))})}}if(f(".tabs-container").length){f(".tabs-container").each(function(){var j=f(this);j.find(".panes .pane:first-child").show();j.find(".tabs li:first-child").addClass("current");j.find(".tabs li").click(function(){j.find(".tabs li").removeClass("current");f(this).addClass("current");j.find(".pane").hide();j.find(".pane:eq("+f(this).index()+")").show()})});f(".tabs-container .tabs a").click(function(){f(this).parent().trigger("click");return false})}var g=f('input[type="text"],input[type="password"],textarea').get();f.each(g,function(j,k){k=f(k);var l=k.val();k.focus(function(){var m=f(this);if(m.val()==l){m.val("")}});k.blur(function(){var m=f(this);if(!m.val()){m.val(l)}})});f(".submit:not(.disabled)").click(function(){f(this).parent("form").submit();return false});f(".tip-container .button").click(function(){var j=f(this).parent().find(".tip-cloud");f(".tip-cloud").hide();j.show().addClass("visible");return false});f("body").click(function(){f(".tip-cloud.visible").hide().removeClass("visible")});function c(){var j=f("#subscribe_form input#email").val();var k={action:"themex_subscribe",email:j};f(".widget-subscribe .alert").slideUp(300);f.post(ajaxurl,k,function(l){f(".widget-subscribe .alert-box").remove();f("#subscribe_form").before(l).slideDown(300)});return false}if(f(".widget-subscribe").length){f("#subscribe_form .subscribe-button").click(function(){c();return false});f("#subscribe_form").submit(function(){c();return false})}f("div#respond").addClass("formatted-form");f("a.login-link").click(function(){f(".login-form").stop().hide().fadeIn(200);return false});f(".login-close-button").click(function(){f(".login-form").stop().fadeOut(200);return false});f(".login-form form").submit(function(){var l=f(this);var j=l.find(".formatted-form-loader");var k=f(this).parent().find(".alert");var m={action:"themex_login",username:l.find("#themex_username").val(),password:l.find("#themex_password").val(),nonce:l.find("#themex_nonce").val()};j.show();k.slideUp(300);f.post(ajaxurl,m,function(n){if(n.match("success")!=null){window.location.reload(true)}else{k.html(n).slideDown(300);j.hide()}});return false});f(window).bind("load",function(){resizeLayout()})});
(function(a){a.PaginationCalculator=function(b,c){this.maxentries=b;this.opts=c};a.extend(a.PaginationCalculator.prototype,{numPages:function(){return Math.ceil(this.maxentries/this.opts.items_per_page)},getInterval:function(f){var d=Math.floor(this.opts.num_display_entries/2);var e=this.numPages();var c=e-this.opts.num_display_entries;var g=f>d?Math.max(Math.min(f-d,c),0):0;var b=f>d?Math.min(f+d+(this.opts.num_display_entries%2),e):Math.min(this.opts.num_display_entries,e);return{start:g,end:b}}});a.PaginationRenderers={};a.PaginationRenderers.defaultRenderer=function(b,c){this.maxentries=b;this.opts=c;this.pc=new a.PaginationCalculator(b,c)};a.extend(a.PaginationRenderers.defaultRenderer.prototype,{createLink:function(b,e,d){var f,c=this.pc.numPages();b=b<0?0:(b<c?b:c-1);d=a.extend({text:b+1,classes:""},d||{});if(b==e){f=a("<span class='current'>"+d.text+"</span>")}else{f=a("<a>"+d.text+"</a>").attr("href",this.opts.link_to.replace(/__id__/,b+1))}if(d.classes){f.addClass(d.classes)}f.data("page_id",b);return f},appendRange:function(c,f,g,b,e){var d;for(d=g;d<b;d++){this.createLink(d,f,e).appendTo(c)}},getLinks:function(h,e){var f,b,c=this.pc.getInterval(h),g=this.pc.numPages(),d=a("<div class='pagination'></div>");if(this.opts.prev_text&&(h>0||this.opts.prev_show_always)){d.append(this.createLink(h-1,h,{text:this.opts.prev_text,classes:"prev"}))}if(c.start>0&&this.opts.num_edge_entries>0){b=Math.min(this.opts.num_edge_entries,c.start);this.appendRange(d,h,0,b,{classes:"sp"});if(this.opts.num_edge_entries<c.start&&this.opts.ellipse_text){jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(d)}}this.appendRange(d,h,c.start,c.end);if(c.end<g&&this.opts.num_edge_entries>0){if(g-this.opts.num_edge_entries>c.end&&this.opts.ellipse_text){jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(d)}f=Math.max(g-this.opts.num_edge_entries,c.end);this.appendRange(d,h,f,g,{classes:"ep"})}if(this.opts.next_text&&(h<g-1||this.opts.next_show_always)){d.append(this.createLink(h+1,h,{text:this.opts.next_text,classes:"next"}))}a("a",d).click(e);return d}});a.fn.pagination=function(i,b){b=jQuery.extend({items_per_page:10,num_display_entries:11,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:true,next_show_always:true,renderer:"defaultRenderer",callback:function(){return false}},b||{});var c=this,f,k,e;function d(m){var n,l=a(m.target).data("page_id"),o=g(l);if(!o){m.stopPropagation()}return o}function g(l){c.data("current_page",l);k=f.getLinks(l,d);c.empty();k.appendTo(c);var m=b.callback(l,c);return m}e=b.current_page;c.data("current_page",e);i=(!i||i<0)?1:i;b.items_per_page=(!b.items_per_page||b.items_per_page<0)?1:b.items_per_page;if(!a.PaginationRenderers[b.renderer]){throw new ReferenceError("Pagination renderer '"+b.renderer+"' was not found in jQuery.PaginationRenderers object.")}f=new a.PaginationRenderers[b.renderer](i,b);var h=new a.PaginationCalculator(i,b);var j=h.numPages();c.bind("setPage",{numPages:j},function(m,l){if(l>=0&&l<m.data.numPages){g(l);return false}});c.bind("prevPage",function(l){var m=a(this).data("current_page");if(m>0){g(m-1)}return false});c.bind("nextPage",{numPages:j},function(l){var m=a(this).data("current_page");if(m<l.data.numPages-1){g(m+1)}return false});k=f.getLinks(e,d);c.empty();k.appendTo(c);b.callback(e,c)}})(jQuery);
(function(a){a("a[data-reveal-id]").live("click",function(c){c.preventDefault();var b=a(this).attr("data-reveal-id");a("#"+b).reveal(a(this).data())});a.fn.reveal=function(b){var c={animation:"fadeAndPop",animationspeed:300,closeonbackgroundclick:true,dismissmodalclass:"close-reveal-modal"};var b=a.extend({},c,b);return this.each(function(){var k=a(this),g=parseInt(k.css("top")),i=k.height()+g,f=false,h=a(".reveal-modal-bg");if(h.length==0){h=a('<div class="reveal-modal-bg" />').insertAfter(k)}k.bind("reveal:open",function(){h.unbind("click.modalEvent");a("."+b.dismissmodalclass).unbind("click.modalEvent");if(!f){j();if(b.animation=="fadeAndPop"){k.css({top:a(document).scrollTop()-i,opacity:0,visibility:"visible"});h.fadeIn(b.animationspeed/2);k.delay(b.animationspeed/2).animate({top:a(document).scrollTop()+g+"px",opacity:1},b.animationspeed,d())}if(b.animation=="fade"){k.css({opacity:0,visibility:"visible",top:a(document).scrollTop()+g});h.fadeIn(b.animationspeed/2);k.delay(b.animationspeed/2).animate({opacity:1},b.animationspeed,d())}if(b.animation=="none"){k.css({visibility:"visible",top:a(document).scrollTop()+g});h.css({display:"block"});d()}}k.unbind("reveal:open")});k.bind("reveal:close",function(){if(!f){j();if(b.animation=="fadeAndPop"){h.delay(b.animationspeed).fadeOut(b.animationspeed);k.animate({top:a(document).scrollTop()-i+"px",opacity:0},b.animationspeed/2,function(){k.css({top:g,opacity:1,visibility:"hidden"});d()})}if(b.animation=="fade"){h.delay(b.animationspeed).fadeOut(b.animationspeed);k.animate({opacity:0},b.animationspeed,function(){k.css({opacity:1,visibility:"hidden",top:g});d()})}if(b.animation=="none"){k.css({visibility:"hidden",top:g});h.css({display:"none"})}}k.unbind("reveal:close")});k.trigger("reveal:open");var e=a("."+b.dismissmodalclass).bind("click.modalEvent",function(){k.trigger("reveal:close")});if(b.closeonbackgroundclick){h.css({cursor:"pointer"});h.bind("click.modalEvent",function(){k.trigger("reveal:close")})}a("body").keyup(function(l){if(l.which===27){k.trigger("reveal:close")}});function d(){f=false}function j(){f=true}})}})(jQuery);